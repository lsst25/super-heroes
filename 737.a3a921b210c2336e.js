"use strict";(self.webpackChunktrainee_heroes_app=self.webpackChunktrainee_heroes_app||[]).push([[737],{5737:(U,h,c)=>{c.r(h),c.d(h,{HeroSelectModule:()=>w});var l=c(9808),p=c(8113),i=c(3075),f=c(6778),e=c(5e3),g=c(7579),S=c(4004),u=c(3688);let C=(()=>{class o{constructor(t){this.fetch=t,this.heroes=new g.x}search(t,r=!1){r?this.fetch.fetchHeroesByName(t).pipe((0,S.U)(s=>s.filter(a=>a.name[0].toLowerCase()===t))).subscribe({next:s=>{this.heroes.next(s)},error:s=>{console.log(s)}}):this.fetch.fetchHeroesByName(t).subscribe(s=>{this.heroes.next(s)})}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(u.r))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var b=c(3422);const v=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];var m=c(7423);function O(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"li"),e.TgZ(1,"button",4),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw(2).onSelectClick(a)}),e._uU(2),e.qZA(),e.qZA()}if(2&o){const t=n.$implicit;e.xp6(2),e.Oqu(t)}}function Z(o,n){if(1&o&&(e.TgZ(0,"ul"),e.YNc(1,O,3,1,"li",3),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.alphabet)}}let y=(()=>{class o{constructor(){this.letter=new e.vpe,this.selectedLetter="a",this.alphabet=v,this.opened=!1}selectLetter(t){this.selectedLetter=t}onSelectClick(t){this.selectedLetter=t,this.letter.emit(t),this.opened=!this.opened}onOpenClick(){this.opened=!this.opened}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-alphabetical"]],outputs:{letter:"letter"},decls:5,vars:4,consts:[[1,"alphabetical"],["mat-mini-fab","","type","button","color","primary",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],["mat-mini-fab","","type","button","color","primary",1,"select-button",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"button",1),e.NdJ("click",function(){return r.onOpenClick()}),e._uU(2),e.ALo(3,"uppercase"),e.qZA(),e.YNc(4,Z,2,1,"ul",2),e.qZA()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,2,r.selectedLetter)," "),e.xp6(2),e.Q6J("ngIf",r.opened))},directives:[m.lW,l.O5,l.sg],pipes:[l.gd],styles:["ul[_ngcontent-%COMP%]{list-style:none;position:absolute;margin:0;padding:0;z-index:100}button[_ngcontent-%COMP%]:hover{background-color:#ff8c00;color:#1750e0}.alphabetical[_ngcontent-%COMP%]{margin-right:5px}"],changeDetection:0}),o})();var d=c(6688),_=c(1487);function x(o,n){1&o&&(e.TgZ(0,"h3",2),e._uU(1,"Results:"),e.qZA())}function T(o,n){1&o&&e._UZ(0,"app-hero-card",3),2&o&&e.Q6J("hero",n.$implicit)}let A=(()=>{class o{constructor(){this.output=[]}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-search-output"]],inputs:{output:"output"},decls:3,vars:2,consts:[["class","title",4,"ngIf"],[3,"hero",4,"ngFor","ngForOf"],[1,"title"],[3,"hero"]],template:function(t,r){1&t&&(e.TgZ(0,"output"),e.YNc(1,x,2,0,"h3",0),e.YNc(2,T,1,1,"app-hero-card",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",r.output.length>0),e.xp6(1),e.Q6J("ngForOf",r.output))},directives:[l.O5,l.sg,_.O],styles:["ul[_ngcontent-%COMP%]{margin:0;padding:0}li[_ngcontent-%COMP%]{list-style:none}output[_ngcontent-%COMP%]{width:100%;margin-top:5px}.title[_ngcontent-%COMP%]{margin-bottom:10px}.card[_ngcontent-%COMP%]{width:100%}.card-body[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between}.stats-list[_ngcontent-%COMP%]{display:flex;flex-flow:column wrap;justify-content:space-around}.card_button[_ngcontent-%COMP%]{align-self:end}"],changeDetection:0}),o})();function F(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"mat-chip",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit;return e.oxw().onSearch(a)}),e._uU(1),e.qZA()}if(2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t," ")}}const J=[{path:"",component:(()=>{class o{constructor(t,r,s,a){this.searchService=t,this.cd=r,this.state=s,this.fetchHeroes=a,this.heroSearchOutput=[],this.searchForm=new i.cw({searchInput:new i.NI("",[i.kI.required,i.kI.pattern(f.yh)])}),this.recentSearches=[]}ngOnInit(){this.fetchHeroes.fetchRandomHero().subscribe(t=>{this.heroSearchOutput=[t],this.cd.detectChanges()}),this.heroesSub=this.searchService.heroes.subscribe(t=>{this.heroSearchOutput=t,this.cd.detectChanges()}),this.recentSearches=this.state.getRecentSearches()}onSearch(t){this.searchService.search(t)}onLetterSelected(t){this.searchForm.get("searchInput").setValue(t),this.searchService.search(t,!0)}addToRecentSearches(t){this.recentSearches.includes(t)||this.recentSearches.unshift(t),this.recentSearches.length>4&&this.recentSearches.pop(),this.state.updateRecentSearches([...this.recentSearches])}onSubmit(){console.log(this.searchForm.value);const t=this.searchForm.get("searchInput").value;console.log(this.searchForm.get("searchInput")),this.searchService.search(t),this.addToRecentSearches(t),this.searchForm.reset()}ngOnDestroy(){this.heroesSub&&this.heroesSub.unsubscribe()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(C),e.Y36(e.sBO),e.Y36(b.a),e.Y36(u.r))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-hero-select"]],decls:13,vars:4,consts:[[1,"row","justify-content-center"],[1,"col-12","col-xl-6"],[1,"form",3,"formGroup","ngSubmit"],["for","search",1,"form-label"],[1,"input-group","mb-3"],[3,"letter"],["formControlName","searchInput","name","search","id","search","type","text","placeholder","Enter the hero name",1,"form-control"],["mat-flat-button","","color","primary",3,"disabled"],["aria-label","Recent searches"],[3,"click",4,"ngFor","ngForOf"],[3,"output"],[3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"form",2),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(3,"label",3),e._uU(4,"Find hero"),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"app-alphabetical",5),e.NdJ("letter",function(a){return r.onLetterSelected(a)}),e.qZA(),e._UZ(7,"input",6),e.TgZ(8,"button",7),e._uU(9," Search "),e.qZA(),e.qZA(),e.TgZ(10,"mat-chip-list",8),e.YNc(11,F,2,1,"mat-chip",9),e.qZA(),e._UZ(12,"app-search-output",10),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("formGroup",r.searchForm),e.xp6(6),e.Q6J("disabled",r.searchForm.invalid),e.xp6(3),e.Q6J("ngForOf",r.recentSearches),e.xp6(1),e.Q6J("output",r.heroSearchOutput))},directives:[i._Y,i.JL,i.sg,y,i.Fj,i.JJ,i.u,m.lW,d.qn,l.sg,d.HS,A],styles:["form[_ngcontent-%COMP%]{width:100%;margin:20px auto}input.ng-invalid.ng-touched.ng-dirty[_ngcontent-%COMP%]{border:1px solid red}"],changeDetection:0}),o})(),canActivate:[c(8108).A]}];let I=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[l.ez,p.Bz.forChild(J)],p.Bz]}),o})();var N=c(683),P=c(4466);let w=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[l.ez,I,N.q,P.m,i.UX]]}),o})()}}]);