"use strict";(self.webpackChunktrainee_heroes_app=self.webpackChunktrainee_heroes_app||[]).push([[737],{5737:(U,h,c)=>{c.r(h),c.d(h,{HeroSelectModule:()=>w});var a=c(9808),p=c(8113),i=c(3075),d=c(6778),e=c(5e3),f=c(7579),g=c(4004),S=c(3688);let C=(()=>{class n{constructor(t){this.fetch=t,this.heroes=new f.x}search(t,r=!1){r?this.fetch.fetchHeroesByName(t).pipe((0,g.U)(s=>s.filter(l=>l.name[0].toLowerCase()===t))).subscribe({next:s=>{this.heroes.next(s)},error:s=>{console.log(s)}}):this.fetch.fetchHeroesByName(t).subscribe(s=>{this.heroes.next(s)})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(S.r))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var v=c(3422);const b=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];var u=c(7423);function O(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"li"),e.TgZ(1,"button",4),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(2).onSelectClick(l)}),e._uU(2),e.qZA(),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(2),e.Oqu(t)}}function Z(n,o){if(1&n&&(e.TgZ(0,"ul"),e.YNc(1,O,3,1,"li",3),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.alphabet)}}let y=(()=>{class n{constructor(){this.letter=new e.vpe,this.selectedLetter="a",this.alphabet=b,this.opened=!1}selectLetter(t){this.selectedLetter=t}onSelectClick(t){this.selectedLetter=t,this.letter.emit(t),this.opened=!this.opened}onOpenClick(){this.opened=!this.opened}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-alphabetical"]],outputs:{letter:"letter"},decls:5,vars:4,consts:[[1,"alphabetical"],["mat-mini-fab","","type","button","color","primary",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],["mat-mini-fab","","type","button","color","primary",1,"select-button",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"button",1),e.NdJ("click",function(){return r.onOpenClick()}),e._uU(2),e.ALo(3,"uppercase"),e.qZA(),e.YNc(4,Z,2,1,"ul",2),e.qZA()),2&t&&(e.xp6(2),e.hij(" ",e.lcZ(3,2,r.selectedLetter)," "),e.xp6(2),e.Q6J("ngIf",r.opened))},directives:[u.lW,a.O5,a.sg],pipes:[a.gd],styles:["ul[_ngcontent-%COMP%]{list-style:none;position:absolute;margin:0;padding:0;z-index:100}button[_ngcontent-%COMP%]:hover{background-color:#ff8c00;color:#1750e0}.alphabetical[_ngcontent-%COMP%]{margin-right:5px}"],changeDetection:0}),n})();var m=c(6688),_=c(1487);function x(n,o){1&n&&(e.TgZ(0,"h3",2),e._uU(1,"Results:"),e.qZA())}function T(n,o){1&n&&e._UZ(0,"app-hero-card",3),2&n&&e.Q6J("hero",o.$implicit)}let A=(()=>{class n{constructor(){this.output=[]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-search-output"]],inputs:{output:"output"},decls:3,vars:2,consts:[["class","title",4,"ngIf"],[3,"hero",4,"ngFor","ngForOf"],[1,"title"],[3,"hero"]],template:function(t,r){1&t&&(e.TgZ(0,"output"),e.YNc(1,x,2,0,"h3",0),e.YNc(2,T,1,1,"app-hero-card",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",r.output.length>0),e.xp6(1),e.Q6J("ngForOf",r.output))},directives:[a.O5,a.sg,_.O],styles:["ul[_ngcontent-%COMP%]{margin:0;padding:0}li[_ngcontent-%COMP%]{list-style:none}output[_ngcontent-%COMP%]{width:100%;margin-top:5px}.title[_ngcontent-%COMP%]{margin-bottom:10px}.card[_ngcontent-%COMP%]{width:100%}.card-body[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between}.stats-list[_ngcontent-%COMP%]{display:flex;flex-flow:column wrap;justify-content:space-around}.card_button[_ngcontent-%COMP%]{align-self:end}"],changeDetection:0}),n})();function F(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"mat-chip",11),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw().onSearch(l)}),e._uU(1),e.qZA()}if(2&n){const t=o.$implicit;e.xp6(1),e.hij(" ",t," ")}}const J=[{path:"",component:(()=>{class n{constructor(t,r,s){this.searchService=t,this.cd=r,this.state=s,this.heroSearchOutput=[],this.searchForm=new i.cw({searchInput:new i.NI("",[i.kI.required,i.kI.pattern(d.yh)])}),this.recentSearches=[]}ngOnInit(){this.heroesSub=this.searchService.heroes.subscribe(t=>{this.heroSearchOutput=t,this.cd.detectChanges()}),this.recentSearches=this.state.getRecentSearches()}onSearch(t){this.searchService.search(t)}onLetterSelected(t){this.searchForm.get("searchInput").setValue(t),this.searchService.search(t,!0)}addToRecentSearches(t){this.recentSearches.includes(t)||this.recentSearches.unshift(t),this.recentSearches.length>4&&this.recentSearches.pop(),this.state.updateRecentSearches([...this.recentSearches])}onSubmit(){console.log(this.searchForm.value);const t=this.searchForm.get("searchInput").value;console.log(this.searchForm.get("searchInput")),this.searchService.search(t),this.addToRecentSearches(t),this.searchForm.reset()}ngOnDestroy(){this.heroesSub&&this.heroesSub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(C),e.Y36(e.sBO),e.Y36(v.a))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-hero-select"]],decls:13,vars:4,consts:[[1,"row","justify-content-center"],[1,"col-12","col-xl-6"],[1,"form",3,"formGroup","ngSubmit"],["for","search",1,"form-label"],[1,"input-group","mb-3"],[3,"letter"],["formControlName","searchInput","name","search","id","search","type","text","placeholder","Enter the hero name",1,"form-control"],["mat-flat-button","","color","primary",3,"disabled"],["aria-label","Recent searches"],[3,"click",4,"ngFor","ngForOf"],[3,"output"],[3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"form",2),e.NdJ("ngSubmit",function(){return r.onSubmit()}),e.TgZ(3,"label",3),e._uU(4,"Find hero"),e.qZA(),e.TgZ(5,"div",4),e.TgZ(6,"app-alphabetical",5),e.NdJ("letter",function(l){return r.onLetterSelected(l)}),e.qZA(),e._UZ(7,"input",6),e.TgZ(8,"button",7),e._uU(9," Search "),e.qZA(),e.qZA(),e.TgZ(10,"mat-chip-list",8),e.YNc(11,F,2,1,"mat-chip",9),e.qZA(),e._UZ(12,"app-search-output",10),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(2),e.Q6J("formGroup",r.searchForm),e.xp6(6),e.Q6J("disabled",r.searchForm.invalid),e.xp6(3),e.Q6J("ngForOf",r.recentSearches),e.xp6(1),e.Q6J("output",r.heroSearchOutput))},directives:[i._Y,i.JL,i.sg,y,i.Fj,i.JJ,i.u,u.lW,m.qn,a.sg,m.HS,A],styles:["form[_ngcontent-%COMP%]{width:100%;margin:20px auto}input.ng-invalid.ng-touched.ng-dirty[_ngcontent-%COMP%]{border:1px solid red}"],changeDetection:0}),n})(),canActivate:[c(8108).A]}];let I=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[a.ez,p.Bz.forChild(J)],p.Bz]}),n})();var N=c(683),P=c(4466);let w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[a.ez,I,N.q,P.m,i.UX]]}),n})()}}]);